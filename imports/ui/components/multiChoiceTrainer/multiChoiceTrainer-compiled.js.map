{"version":3,"sources":["multiChoiceTrainer.js"],"names":[],"mappings":"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","file":"multiChoiceTrainer-compiled.js","sourcesContent":["import angular from 'angular';\nimport angularMeteor from 'angular-meteor';\nimport uiRouter from 'angular-ui-router';\n\nimport { Meteor } from 'meteor/meteor';\nimport { FlashCards } from '../../../api/flashCards';\nimport './trainer.html'\nimport { Vocab } from './services';\nimport { name as DisplayFlashCard } from '../flashCard/displayFlashCard/displayFlashCard';\nimport { MultiChoiceFlashCard, convertTrainerArray, shuffleArray } from '../../multiChoiceTrainer/MultiChoiceFlashCard'\nclass MultiChoiceTrainer {\n    constructor($scope, $reactive, $stateParams) {\n        'ngInject';\n        $reactive(this).attach($scope);\n        this.subscribe('flashCards');\n        this.helpers({\n            flashCards() {\n                const selector = {\n                    listId: \"z6HayndW5dTJNbuDq\"\n                };\n                var flashCards = FlashCards.find(selector).fetch();\n                return flashCards;\n            }\n        });\n    }\n\n    iniTrainer() {\n        Vocab.chargeVocs(this.flashCards);\n        Vocab.iniTrainer();\n        this.flashCard = Vocab.currentFlashCard;\n        this.displayAnswer = false;\n        Vocab.iniTrainer(this.flashCards);\n        this.flashCard = Vocab.currentFlashCard;\n        $scope.shuffleFlashCardAnswers();\n    }\n\n    shuffleFlashCardAnswers() {\n        this.flashCard.answers = shuffleArray(this.flashCard.answers);\n    }\n\n    getFlashCards() {\n        var flashCards = convertTrainerArray(FA);\n        return flashCards;\n    }\n\n    //this.ini();\n    //this.answers = {};\n    showResult() {\n        this.correctCount = 0;\n        var answers = this.flashCard.answers;\n        this.flashCard.userAnswerCorrect = false;\n        this.getUserAnswer();\n        for (var j = 0; j < answers.length; j++) {\n            answers[j].selected = \"donno\";\n            answers = this.checkIfSelectedAnswerIsCorrect(j, answers);\n            answers = this.checkIfSelectedAnswerIsWrong(j, answers);\n        }\n        this.checkUserAnswer(answers);\n        this.getUserAnswerIndex(answers);\n        console.log(answers);\n        return answers;\n        //console.log(this.answers);\n    }\n\n    getUserAnswer() {\n        this.flashCard.userAnswer = this.answers[0];\n    }\n\n    checkIfSelectedAnswerIsCorrect(j, answers) {\n        if (this.flashCard.userAnswer === answers[j].value && answers[j].correct === true) {\n            this.flashCard.userAnswerCorrect = true;\n            answers[j].selected = \"true\";\n        }\n        return answers;\n    }\n\n    checkIfSelectedAnswerIsWrong(j, answers) {\n        if (this.flashCard.userAnswer === answers[j].value && answers[j].correct === false) {\n            answers[j].selected = \"false\";\n        }\n        return answers;\n    }\n\n    nextFlashCard() {\n        this.startIndex++;\n        this.flashCard = this.flashCards[this.startIndex];\n    }\n\n    checkUserAnswer() {\n        var answers = this.flashCard.answers;\n        for (var i = 0; i < answers.length; i++) {\n            if (this.flashCard.userAnswer === answers[i].value && answers[i].correct === true) {\n                this.acceptAnswer();\n                return true;\n            }\n        }\n        this.denyAnswer();\n        return false;\n    }\n\n    refreshSelection() {\n        var answers = this.flashCard.answers;\n        this.getUserAnswer();\n        for (var j = 0; j < answers.length; j++) {\n            answers[j].selected = \"donno\";\n        }\n    }\n\n    proceedToNextFlashCard() {\n        this.refreshSelection();\n        this.flashCard = Vocab.currentFlashCard;\n        this.shuffleFlashCardAnswers();\n    }\n\n    acceptAnswer() {\n        Vocab.markAnswerAsCorrect();\n    }\n\n    denyAnswer() {\n        Vocab.markAnswerAsWrong();\n    }\n\n    random() {\n        return 0.5 - Math.random();\n    }\n\n}\n\nconst name = 'multiChoiceTrainer';\n\n// create a module\nexport default angular.module(name, [\n    angularMeteor,\n    uiRouter,\n    DisplayFlashCard\n]).component(name, {\n    templateUrl: `imports/ui/components/${name}/${name}.html`,\n    controllerAs: name,\n    controller: MultiChoiceTrainer\n})\n    .config(config);\n\nfunction config($stateProvider) {\n    'ngInject';\n    $stateProvider\n        .state('boot', {\n            url: '/boot/:listId',\n            template: '<multi-choice-trainer></multi-choice-trainer>'\n        });\n}\n\n\n"]}